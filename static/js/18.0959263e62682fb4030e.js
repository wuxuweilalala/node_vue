webpackJsonp([18],{NgTD:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t("sE1n"),r=t("kBYy"),n=t.n(r),s={name:"runVIP",components:{IEcharts:o.a,Paginate:n.a},data:function(){return{searchVal:"",generalizeType:["无"],certificationType:["无"],sourceType:["无"],memberType:["无"],isMember:["无"],pageQuantity:1,page:0,forcePage:1,pageClickBl:!0,dropDownIconBl:!1,dropDownObj:{orderType:!1,manager:!1,mouseleavemanager:!1,approveType:!1,mouseleaveapproveType:!1,userFrom:!1,mouseleaveuserFrom:!1,spreadStyle:!1,mouseleavespreadStyle:!1,VIPGrade:!1,mouseleaveVIPGrade:!1},abilityOverview:{xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#fff",fontSize:12,padding:[5,0,0,0]}},color:"#2d3540",data:["0","0","0","0","0","0","0","0","0"]},grid:{x:70,y:50,x2:55,y2:30},yAxis:{type:"value",nameTextStyle:{color:"#fff",show:!1,padding:[0,35,5,0],fontSize:12},axisLabel:{show:!0,textStyle:{color:"#fff",fontSize:12}}},tooltip:{trigger:"axis",formatter:function(e){return e[0].name+":"+e[0].data+"元"}},series:[{data:[12,15,8,7,33,25,12,35,20],name:"会员趋势",type:"line",smooth:!0,lineStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"rgba(29,124,250,1)"},{offset:1,color:"rgba(238,116,114,1)"}],globalCoord:!1}},areaStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"rgba(29,124,250,0.5)"},{offset:1,color:"rgba(238,116,114,0.5)"}],globalCoord:!1}}}]},tbodyArr:[{nickname:"无",phone:"无",firm_name:"无",approve:"无",dashBoardSum:"无",from:"无",ditch:"无",at_present_grade:"无",identity:"无",pastdue_time:"无"}],requestType:"所有",filterIndex:0,dataSort:0}},methods:{onClick:function(e){this.echartsClick(e,"api/memberTrend")},echartsClick:function(e,a){e.name.indexOf("年")>=0?this.getTrendRecord(e.name,1,a):e.name.indexOf("月")>=0&&this.getTrendRecord(e.name,2,a)},getTrendRecord:function(e,a,t){var o=this,r={date:parseInt(e),dateType:a};"2"==a&&(r.year="2019"),this.$post(t,r).then(function(e){if("000000"==e.code)if(e.data){var t=[],r=[];if(1==a)for(var n in e.data)e.data[n]&&0!=n&&(t.push(e.data[n].money),r.push(e.data[n].monthly+"月"));else if(2==a)for(var s in e.data)e.data[s]&&0!=s?(t.push(e.data[s].money),r.push(e.data[s].days+"日")):0!=s&&(t.push(0),r.push(e.data[s].days+"日"));o.abilityOverview.xAxis.data=r,o.abilityOverview.series[0].data=t}else o.$store.dispatch("publicTools/setTipsData",["年暂时没有充值数据"])})},clickCallback:function(e){"所有"==this.requestType?this.pagesCallback(e,"api/memberAdmin?page="):this.filterClick(this.requestType,this.filterIndex,e,this.dataSort)},jumpPage:function(e){this.pageClickBl&&(e.x<e.y?this.forcePage-10>0?this.clickCallback(this.forcePage-10):this.clickCallback(1):this.forcePage+10<this.pageQuantity?this.clickCallback(this.forcePage+10):this.clickCallback(this.pageQuantity))},pagesCallback:function(e,a){var t=this;this.pageClickBl&&(this.searchVal="",this.pageClickBl=!1,this.forcePage=e,this.$get(a+e).then(function(a){if("000000"==a.code)for(var o in t.requestType="所有",t.pageClickBl=!0,t.currentPageQuantity=e,a.data.count&&0!=a.data.count?t.pageQuantity=a.data.count:t.pageQuantity=1,t.tbodyArr=a.data.user_hierarchy_data,t.dropDownObj)t.dropDownObj[o]=!1}))},closIsDrop:function(e){e.inquire&&(this[e.inquire]=!1),e.msg&&(this.dropDownObj[e.msg]=!1)},dropDownFn:function(e){for(var a in this.dropDownObj)this.dropDownObj[a]=a==e},filterClick:function(e,a,t,o){var r=this;(o||0==o)&&(this.dataSort=o);var n={page:t,value:a,condition:e,sort:this.dataSort};0==a?n={sort:this.dataSort,page:t}:"模糊搜索"!=e&&(n={page:t,value:a-1,condition:e,sort:this.dataSort}),this.$post("api/memberScreen",n).then(function(t){if("000000"==t.code)for(var n in r.tbodyArr=t.data.user_hierarchy_data,t.data.count&&0!=t.data.count?r.pageQuantity=t.data.count:r.pageQuantity=1,r.filterIndex=a,r.requestType=e,r.dataSort=o,r.dropDownObj)r.dropDownObj[n]=!1})}},mounted:function(){var e=this;this.pagesCallback(1,"api/memberAdmin?page="),this.getTrendRecord(2019,1,"api/memberTrend"),this.$get("api/sizerCondition").then(function(a){"000000"==a.code&&(a.data.generalizeType.unshift("全部"),a.data.certificationType.unshift("全部"),a.data.sourceType.unshift("全部"),a.data.memberType.unshift("全部"),a.data.isMember.unshift("全部"),e.generalizeType=a.data.generalizeType,e.certificationType=a.data.certificationType,e.sourceType=a.data.sourceType,e.memberType=a.data.memberType,e.isMember=a.data.isMember)})}},i={render:function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",{staticClass:"basicInfo"},[e._m(0),e._v(" "),o("div",{staticClass:"contact1"},[o("div",{staticClass:"subTitle"},[e._v("\n        会员趋势\n        "),e._e(),e._v(" "),o("span",{staticClass:"firstLevel",on:{click:function(a){return e.getTrendRecord(2019,1,"api/memberTrend")}}},[e._v("返回首级")])]),e._v(" "),o("div",{staticClass:"runVIPEcharts",staticStyle:{width:"83.8vw",height:"24.3vh"}},[o("IEcharts",{staticStyle:{width:"83.8vw",height:"24.3vh"},attrs:{options:e.abilityOverview},on:{click:e.onClick}})],1)]),e._v(" "),o("div",{staticClass:"contact2"},[o("div",{staticClass:"subTitle"},[o("span",[e._v("筛选查询")]),e._v(" "),o("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{inquire:"dropDownIconBl"}},expression:"{fn:closIsDrop,arg:{inquire:'dropDownIconBl'}}"}],staticClass:"order",on:{click:function(a){a.stopPropagation(),e.dropDownIconBl=!e.dropDownIconBl}}},[o("i",{staticClass:"icon biFont icon-order"}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.dropDownIconBl,expression:"dropDownIconBl"}],staticClass:"dropDownIcon"},[o("span",{on:{click:function(a){return e.filterClick(e.requestType,e.filterIndex,1,0)}}},[o("span",{staticClass:"icon biFont icon-descend"}),e._v(" "),o("span",[e._v("升序")])]),e._v(" "),o("span",{on:{click:function(a){return e.filterClick(e.requestType,e.filterIndex,1,1)}}},[o("span",{staticClass:"icon biFont icon-ascend"}),e._v(" "),o("span",[e._v("降序")])])])]),e._v(" "),o("span",{staticClass:"break"},[o("i",{staticClass:"icon biFont icon-reset",on:{click:function(a){return e.pagesCallback(1,"api/memberAdmin?page=")}}})]),e._v(" "),o("span",{staticClass:"search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],attrs:{type:"text"},domProps:{value:e.searchVal},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.filterClick("模糊搜索",e.searchVal,1,0)},blur:function(a){return e.filterClick("模糊搜索",e.searchVal,1,0)},input:function(a){a.target.composing||(e.searchVal=a.target.value)}}}),e._v(" "),o("span",{staticClass:"icon userCenterFont icon-search",on:{click:function(a){return e.filterClick("模糊搜索",e.searchVal,1,0)}}})]),e._v(" "),o("span",{staticClass:"searchText"},[e._v("搜索：")])]),e._v(" "),o("div",{staticClass:"runVIPTable",staticStyle:{width:"83.8vw",height:"49vh"}},[o("table",[o("thead",[o("tr",[o("th",{staticClass:"userAppellation"},[e._v("用户名称")]),e._v(" "),o("th",{staticClass:"userPhone"},[e._v("手机号码")]),e._v(" "),o("th",{staticClass:"firmAppellation"},[e._v("公司名称")]),e._v(" "),o("th",{staticClass:"approveType"},[e._v("认证类型\n                "),e.dropDownObj.approveType?e._e():o("span",[e.dropDownObj.mouseleaveapproveType?e._e():o("img",{staticClass:"triangle",attrs:{src:t("ZZr5"),alt:""},on:{click:function(a){return a.stopPropagation(),e.dropDownFn("approveType")},mouseenter:function(a){e.dropDownObj.mouseleaveapproveType=!0}}}),e._v(" "),e.dropDownObj.mouseleaveapproveType?o("img",{staticClass:"triangle",attrs:{src:t("GnqS"),alt:""},on:{click:function(a){return a.stopPropagation(),e.dropDownFn("approveType")},mouseleave:function(a){e.dropDownObj.mouseleaveapproveType=!1}}}):e._e()]),e._v(" "),e.dropDownObj.approveType?o("span",[e.dropDownObj.mouseleaveapproveType?e._e():o("img",{staticClass:"triangle",attrs:{src:t("gCe4"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.approveType=!1},mouseenter:function(a){e.dropDownObj.mouseleaveapproveType=!0}}}),e._v(" "),e.dropDownObj.mouseleaveapproveType?o("img",{staticClass:"triangle",attrs:{src:t("07tH"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.approveType=!1},mouseleave:function(a){e.dropDownObj.mouseleaveapproveType=!1}}}):e._e()]):e._e(),e._v(" "),e.dropDownObj.approveType?o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{msg:"approveType"}},expression:"{fn:closIsDrop,arg:{msg:'approveType'}}"}],staticClass:"dropDown"},e._l(e.certificationType,function(a,t){return o("span",{key:t,on:{click:function(a){return e.filterClick("认证类型",t,1,0)}}},[e._v(e._s(a))])}),0):e._e()]),e._v(" "),o("th",{staticClass:"dashboardCount"},[e._v("仪表盘数量")]),e._v(" "),o("th",{staticClass:"userFrom"},[e._v("来源\n                "),(e.dropDownObj.userFrom,e._e()),e._v(" "),e.dropDownObj.userFrom?o("span",[e.dropDownObj.mouseleaveuserFrom?e._e():o("img",{staticClass:"triangle",attrs:{src:t("gCe4"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.userFrom=!1},mouseenter:function(a){e.dropDownObj.mouseleaveuserFrom=!0}}}),e._v(" "),e.dropDownObj.mouseleaveuserFrom?o("img",{staticClass:"triangle",attrs:{src:t("07tH"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.userFrom=!1},mouseleave:function(a){e.dropDownObj.mouseleaveuserFrom=!1}}}):e._e()]):e._e(),e._v(" "),e.dropDownObj.userFrom?o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{msg:"userFrom"}},expression:"{fn:closIsDrop,arg:{msg:'userFrom'}}"}],staticClass:"dropDown"},e._l(e.sourceType,function(a,t){return o("span",{key:t,on:{click:function(a){return e.filterClick("来源",t,1,0)}}},[e._v(e._s(a))])}),0):e._e()]),e._v(" "),o("th",{staticClass:"spreadStyle"},[e._v("推广渠道\n                "),(e.dropDownObj.spreadStyle,e._e()),e._v(" "),e.dropDownObj.spreadStyle?o("span",[e.dropDownObj.mouseleavespreadStyle?e._e():o("img",{staticClass:"triangle",attrs:{src:t("gCe4"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.spreadStyle=!1},mouseenter:function(a){e.dropDownObj.mouseleavespreadStyle=!0}}}),e._v(" "),e.dropDownObj.mouseleavespreadStyle?o("img",{staticClass:"triangle",attrs:{src:t("07tH"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.spreadStyle=!1},mouseleave:function(a){e.dropDownObj.mouseleavespreadStyle=!1}}}):e._e()]):e._e(),e._v(" "),e.dropDownObj.spreadStyle?o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{msg:"spreadStyle"}},expression:"{fn:closIsDrop,arg:{msg:'spreadStyle'}}"}],staticClass:"dropDown"},e._l(e.generalizeType,function(a,t){return o("span",{key:t,on:{click:function(a){return e.filterClick("推广渠道",t,1,0)}}},[e._v(e._s(a))])}),0):e._e()]),e._v(" "),o("th",{staticClass:"VIPGrade"},[e._v("会员等级\n                "),e.dropDownObj.VIPGrade?e._e():o("span",[e.dropDownObj.mouseleaveVIPGrade?e._e():o("img",{staticClass:"triangle",attrs:{src:t("ZZr5"),alt:""},on:{click:function(a){return a.stopPropagation(),e.dropDownFn("VIPGrade")},mouseenter:function(a){e.dropDownObj.mouseleaveVIPGrade=!0}}}),e._v(" "),e.dropDownObj.mouseleaveVIPGrade?o("img",{staticClass:"triangle",attrs:{src:t("GnqS"),alt:""},on:{click:function(a){return a.stopPropagation(),e.dropDownFn("VIPGrade")},mouseleave:function(a){e.dropDownObj.mouseleaveVIPGrade=!1}}}):e._e()]),e._v(" "),e.dropDownObj.VIPGrade?o("span",[e.dropDownObj.mouseleaveVIPGrade?e._e():o("img",{staticClass:"triangle",attrs:{src:t("gCe4"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.VIPGrade=!1},mouseenter:function(a){e.dropDownObj.mouseleaveVIPGrade=!0}}}),e._v(" "),e.dropDownObj.mouseleaveVIPGrade?o("img",{staticClass:"triangle",attrs:{src:t("07tH"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.VIPGrade=!1},mouseleave:function(a){e.dropDownObj.mouseleaveVIPGrade=!1}}}):e._e()]):e._e(),e._v(" "),e.dropDownObj.VIPGrade?o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{msg:"VIPGrade"}},expression:"{fn:closIsDrop,arg:{msg:'VIPGrade'}}"}],staticClass:"dropDown"},e._l(e.memberType,function(a,t){return o("span",{key:t,on:{click:function(a){return e.filterClick("会员等级",t,1,0)}}},[e._v(e._s(a))])}),0):e._e()]),e._v(" "),o("th",{staticClass:"manager"},[e._v("管理员\n                "),e.dropDownObj.manager?e._e():o("span",[(e.dropDownObj.mouseleavemanager,e._e()),e._v(" "),e.dropDownObj.mouseleavemanager?o("img",{staticClass:"triangle",attrs:{src:t("GnqS"),alt:""},on:{click:function(a){return a.stopPropagation(),e.dropDownFn("manager")},mouseleave:function(a){e.dropDownObj.mouseleavemanager=!1}}}):e._e()]),e._v(" "),e.dropDownObj.manager?o("span",[e.dropDownObj.mouseleavemanager?e._e():o("img",{staticClass:"triangle",attrs:{src:t("gCe4"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.manager=!1},mouseenter:function(a){e.dropDownObj.mouseleavemanager=!0}}}),e._v(" "),e.dropDownObj.mouseleavemanager?o("img",{staticClass:"triangle",attrs:{src:t("07tH"),alt:""},on:{click:function(a){a.stopPropagation(),e.dropDownObj.manager=!1},mouseleave:function(a){e.dropDownObj.mouseleavemanager=!1}}}):e._e()]):e._e(),e._v(" "),e.dropDownObj.manager?o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.closIsDrop,arg:{msg:"manager"}},expression:"{fn:closIsDrop,arg:{msg:'manager'}}"}],staticClass:"dropDown"},e._l(e.isMember,function(a,t){return o("span",{key:t,on:{click:function(a){return e.filterClick("管理员",t,1,0)}}},[e._v(e._s(a))])}),0):e._e()]),e._v(" "),o("th",{staticClass:"expireData"},[e._v("到期时间")]),e._v(" "),o("th",{staticClass:"modify"},[e._v("操作")])])]),e._v(" "),o("tbody",e._l(e.tbodyArr,function(a,t){return o("tr",{key:t},[o("td",{staticClass:"userAppellation"},[e._v(e._s(a.nickname))]),e._v(" "),o("td",[e._v(e._s(a.phone))]),e._v(" "),o("td",[e._v(e._s(a.firm_name))]),e._v(" "),o("td",[e._v(e._s(a.approve))]),e._v(" "),o("td",[e._v(e._s(a.dashBoardSum))]),e._v(" "),o("td",[e._v(e._s(a.source))]),e._v(" "),o("td",[e._v(e._s(a.ditch))]),e._v(" "),o("td",[e._v(e._s(a.at_present_grade))]),e._v(" "),o("td",[e._v(e._s(a.identity))]),e._v(" "),o("td",[e._v(e._s(a.pastdue_time))]),e._v(" "),e._m(1,!0)])}),0)])])]),e._v(" "),o("paginate",{attrs:{"page-count":e.pageQuantity,"margin-pages":1,"force-page":e.forcePage,"page-range":10,"page-class":"page-item","page-link-class":"item","container-class":"ui pagination menu","prev-text":"<","next-text":">","prev-link-class":"item","next-link-class":"item","break-view-class":"break-view","break-view-link-class":"break-view-link","click-handler":e.clickCallback,"no-li-surround":!0}},[o("span",{attrs:{slot:"breakViewContent"},on:{click:e.jumpPage},slot:"breakViewContent"},[o("svg",{attrs:{width:"16",height:"4",viewBox:"0 0 16 4"}},[o("circle",{attrs:{fill:"#999999",cx:"2",cy:"2",r:"2"}}),e._v(" "),o("circle",{attrs:{fill:"#999999",cx:"8",cy:"2",r:"2"}}),e._v(" "),o("circle",{attrs:{fill:"#999999",cx:"14",cy:"2",r:"2"}})])])])],1)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"Btitle"},[a("span",{staticClass:"basicData"},[this._v("会员管理")])])},function(){var e=this.$createElement,a=this._self._c||e;return a("td",[a("span",{staticClass:"icon biFont icon-edit"})])}]};var c=t("VU/8")(s,i,!1,function(e){t("Ouef")},"data-v-86286d80",null);a.default=c.exports},Ouef:function(e,a){}});